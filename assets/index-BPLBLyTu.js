(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const M of s.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&t(M)}).observe(document,{childList:!0,subtree:!0});function a(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(l){if(l.ep)return;l.ep=!0;const s=a(l);fetch(l.href,s)}})();const n=document.querySelector("canvas"),r=n.getContext("2d");n.height=600;n.width=500;const P=document.getElementById("myScore");let m=0,w=0;P.textContent=`${m} - ${w}`;const v=document.getElementById("start-button");v.addEventListener("click",J);let I=!0;const q=document.querySelectorAll('input[name="toggle"]');let b=!0;const u=10;let C=Math.floor(Math.random()*51)+50,c=n.width/2,o=n.height/2-C,y=1,g=1,S=!0,p=70,O=10,U=10,f=(n.height-p)/2,h=70,W=10,B=n.width-10-W,d=(n.height-h)/2,x=!1,A=!1,L=!1,D=!1;function R(){r.beginPath(),r.setLineDash([10,15]),r.moveTo(n.width/2,0),r.lineTo(n.width/2,n.height),r.strokeStyle="white",r.lineWidth=2,r.stroke(),r.setLineDash([])}function H(){r.beginPath(),r.arc(c,o,u,0,Math.PI*2),r.fillStyle="#fff",r.fill(),r.closePath()}function X(e){const i=S?200:500;c+=y*e*i,o+=g*e*i}function Y(e){C=Math.floor(Math.random()*51)+50,c=n.width/2,o=n.height/2-C,e==="right"&&(y=1,g=1),e==="left"&&(y=-1,g=1),S=!0,U=10,f=(n.height-p)/2,B=n.width-10-W,d=(n.height-h)/2}function $(){r.fillStyle="#fff",r.fillRect(U,f,O,p)}function N(){r.fillStyle="#fff",r.fillRect(B,d,W,h)}function T(){document.addEventListener("keydown",e),document.addEventListener("keyup",i);function e(a){const{key:t}=a;t==="Up"||t==="ArrowUp"?L=!0:(t==="Down"||t==="ArrowDown")&&(D=!0),t==="W"||t==="w"?x=!0:(t==="S"||t==="s")&&(A=!0)}function i(a){const{key:t}=a;t==="Up"||t==="ArrowUp"?L=!1:(t==="Down"||t==="ArrowDown")&&(D=!1),t==="W"||t==="w"?x=!1:(t==="S"||t==="s")&&(A=!1)}}function z(e){x&&f>0?f-=600*e:A&&f<n.height-p&&(f+=600*e)}function F(e){L&&d>0?d-=600*e:D&&d<n.height-h&&(d+=600*e)}function G(e){const i=S?200:400,a=d+h/2;c>n.width/3&&(o>a&&(d+=i*e),o<a&&(d-=i*e))}function K(){if(c-u<=0&&(w+=1,Y("left")),c+u>=n.width&&(m+=1,Y("right")),(o-u<=0||o+u>=n.height)&&(g=-g),c-u<=U+O&&o>=f&&o<=f+p){let e=f+p/2,a=(o-e)/(p/2),t=75*Math.PI/180,l=a*t;y=Math.cos(l),g=Math.sin(l),S=!1}if(c+u>=B&&o>=d&&o<=d+h){let e=d+h/2,a=(o-e)/(h/2),t=75*Math.PI/180,l=a*t;y=-Math.cos(l),g=Math.sin(l),S=!1}}function j(){r.clearRect(0,0,n.width,n.height)}let E=performance.now();function k(e){j();const i=(e-E)/1e3;E=e,R(),H(),$(),N(),X(i),z(i),b?G(i):F(i),K(),P.textContent=`${m} - ${w}`,m<=4&&w<=4?window.requestAnimationFrame(k):m>4?(P.textContent="P1 Winner!",I=!0,v.textContent="reset game"):w>4&&(b?P.textContent="CPU Winner!":P.textContent="P2 Winner!",I=!0,v.textContent="reset game")}function J(){I&&(q.forEach(e=>{e.checked&&(e.value==="singlePlayer"?b=!0:b=!1)}),m=0,w=0,v.textContent="start game",Y("right"),I=!1,E=performance.now(),requestAnimationFrame(k))}T();
